# Changelog - Agent Framework Toolkit

# Unreleased
- Moved AIToolsFactory to it's own NuGetPackage (`AgentFrameworkToolkit.Tool` to allow usage without dependency on `Microsoft.Agents.AI`)

---

## Version 1.0.0-preview.260121.1
- [BREAKING] Upgraded and fixed breaking changes from Microsoft Agent Framework v.1.0.0-preview.260121.1
- Bumped OpenTelemetry package to 1.15.0

---

## Version 1.0.0-preview.260120.1
- Added `GetTextReasoningContent` extension method to easily get the Reasoning text (if any) from an AgentResponse.
- Added `GetContainerFileCitationMessageAnnotations` extension method to easily get ContainerFileCitations from example a Code Interpreter usage (OpenAI-based agents only).
- Google: Bump internal NuGet to 0.12.0

---

## Version 1.0.0-preview.260115.1
- Google: [BREAKING] Switched to the official Google NuGet Package (only breaking in Connection part if Google Vertex is used)
- Google: Added GoogleEmbeddingFactory
- Google: Added`ThinkingLevel` and `IncludeThoughts` in options
- `.RunAsync<T>(...)` in AIAgentExtensions now used provided serializationOptions (if given); only creating it's own if null.
- `.RunAsync<T>(...)` now support List/Array as T (using similar object wrapping technique as Microsoft.Extensions.AI)
- AzureOpenAI: Added Auto-correction of the Endpoint if you by mistake give the entire foundry url 'https://[name].services.ai.azure.com/api/projects/[project]' by on the fly correcting it to 'https://[name].services.ai.azure.com'. This is on by default, but can be turned off by setting property `AutoCorrectFoundryEndpoint` to false
- Fixed that the AIAgentExtensions was in a wrongly names class called AIToolsExtensions
- [BREAKING] `ApplyMiddleware` on the various options objects are moved to a central `MiddlewareHelper` to reduce code-duplication

---

## Version 1.0.0-preview.260108.1
- Bumped Agent Framework Nuget Packages to '1.0.0-preview.260108.1' and fixed breaking changes (nothing breaking for the Toolkit itself)

---

## Version 1.0.0-preview.260104.1
- Added option to work with [AgentSkills](https://agentskills.io) in the `AIToolsFactory` or with the dedicated `AgentSkillsFactory`
- Anthropic: Added `Endpoint` property to connection so you can override the default BaseUrl (and example consume an Anthropic model from Microsoft Foundry using the Anthropic API)

---

## Version 1.0.0-preview.251230.1
- Added `OpenAIEmbeddingModels` const-collection of Open AI Embedding Models
- Exposed `Connection` as a Property on all Factories
- NuGet: Changed Project URL to be the [Wiki](https://github.com/rwjdk/AgentFrameworkToolkit/wiki)
- Upgraded 'Google_GenerativeAI.Microsoft' NuGet from 3.4.1 to 3.6.1

---

## Version 1.0.0-preview.251226.1
- Added support for setting `AIContextProviderFactory` and `ChatMessageStoreFactory` on Agents
- Removed obsolete `OpenAIAgentOptionsForChatClientWithoutReasoning`, `OpenAIAgentOptionsForChatClientWithReasoning`, `OpenAIAgentOptionsForResponseApiWithoutReasoning` and `OpenAIAgentOptionsForResponseApiWithReasoning` (Use `AgentOptions` instead)
- Added missing Dependency Injection options for EmbeddingFactory in Providers `Mistral` and `OpenRouter`
- Added Cohere as provider
- [BREAKING] Athropic: Renamed 'maxTokenCount' to 'maxOutputTokens' to have consistent naming in the simplified CreateAgent method

---

## Version 1.0.0-preview.251224.1
- Added support for easy Tool-Calling Middleware (allowing you to inspect, manipulate and cancel tool-calling)
- Added support for easy OpenTelemetry Middleware (Logging in the OpenTelemetry standard)
- Added support for easy Logging Middleware (Custom Logging)
- Added OpenRouterEmbeddingFactory
- Added MistralEmbeddingFactory
- Restructured README
- Added individual provider README files

---

## Version 1.0.0-preview.251222.1
- Changed `AITool[]?` parameter in simplified `CreateAgent` methods to be `IList<AITool>?` for consistency
- Fixed that the OpenAI based simplified  `CreateAgent` methods (aka not using AgentOptions) forced `ClientType.ChatClient` instead of using the default in the Connection.
- Fixed that if ClientType was not set on Agent Level, Reasoning Effort was not properly added
- Fixed that MCP Tools could be defined but not called
- [BREAKING] GitHub: Renamed `PersonalAccessToken` or `AccessToken` as it do not need to be personal all the time (it can example be generated by a GitHub App)
- Added Unit/Integration-tests to try and avoid silly mistakes like those in previous and this release in going forward.

---

## Version 1.0.0-preview.251220.1
- Fixed that not all OpenAI based `CreateAgent` methods would set the `LoggerFactory`, `ClientFactory` and `Services` (Thank you to [LennartJohansen](https://github.com/LennartJohansen) for pointing it out in [#26](https://github.com/rwjdk/AgentFrameworkToolkit/issues/26)

---

## Version 1.0.0-preview.251219.1
- Added central build management and reorganized project structure (Huge thanks to [gurolg](https://github.com/gurolg) for [PR#24](https://github.com/rwjdk/AgentFrameworkToolkit/pull/24) doing the work)
- Add [CONTRIBUTING.md](https://github.com/rwjdk/AgentFrameworkToolkit/blob/main/CONTRIBUTING.md) (Again thanks to [gurolg](https://github.com/gurolg))
- Bumped `Microsoft.Agents.AI` version to latest (1.0.0-preview.251219.1) to be compatible with [latest breaking changes](https://github.com/microsoft/agent-framework/releases/tag/dotnet-1.0.0-preview.251219.1)
  - Removed Agent Display name as AF does not have it anymore
  - Remove Agent ID as an override, as it is not overridable anymore 
  - Resolved new OpenAI Nuget Package renames in ResponsesAPI
- Renamed `ToolCallsHandler.ToolCallingMiddleware` to `ToolCallingMiddlewareAsync`
- Added `DefaultClientType` to OpenAI/AzureOpenAI-based providers so you can define if `ChatClient` or `ResponsesAPI` is the default `ClientType` for Agents that do not define it themself

---

## Version 1.0.0-preview.251217.1
- Added `AIToolsFactory` to make it easier to create and define AI Tools
- [BREAKING] Obsoleted `OpenAIAgentOptionsForChatClientWithoutReasoning`, `OpenAIAgentOptionsForChatClientWithReasoning`, `OpenAIAgentOptionsForResponseApiWithoutReasoning` and `OpenAIAgentOptionsForResponseApiWithReasoning` as these names were 'too much' and confused (Use AgentOptions instead (with `ClientType` and `ReasoningEffort` Enums to control the option))
- Added support for `IServiceProvider`, `ILoggerFactory`, and `ClientFactory` in Agent Creation

---

## Version 1.0.0-preview.251215.1
- Added option to get Raw Client from the various Connection Objects (Except for the Google Connection, as switch to the new official Google Nuget is expected soon)
- OpenRouter and XAI Connection are now inherited from OpenAI Connections
- OpenAI + AzureOpenAI: Added EmbeddingFactory

---

## Version 1.0.0-preview.251204.1
- Bumped `Microsoft.Agents.AI` version to latest (1.0.0-preview.251204.1) to be compatible with [latest breaking change around Instructions](https://github.com/microsoft/agent-framework/pull/1517)

---

## Version 1.0.0-preview.251201.1
- AzureOpenAI: Added RBAC Support (TokenCredentials)
- Enabled "Treat Warnings as Errors"
- Added .editorconfig 
- Removed all todos in the code.

---

## Version 1.0.0-preview.251129.1
- Added GitHub provider NuGet Package
- Everything now has XML Summaries
- [BREAKING] Renamed `DeploymentModelName` to `Model` to make it simpler to understand (Sorry to existing users, but better now than later)
- [BREAKING] Renamed `RequestJson` and `ResponseJson` to `RequestData` and `ResponseData` as not all LLMs use JSON for communication (exampl,e Anthropic Data back is not JSON)
- OpenAI: Added `WithOpenAIResponsesApiReasoning` and `WithOpenAIChatClientReasoning` Extension Methods for `ChatOptions` (if you do not wish to use AgentFactory, but still wish to have an easier time to set OpenAI Reasoning)
- Fixed that `ServiceCollectionExtensions` for Google was in the wrong namespace
- Fixed that Mistral had an `AddAnthropicAgentFactory` method (wrong name)
- Fixed that OpenAI ResponseAPI without reasoning, Agents did not get their Temperature set

---

## Version 1.0.0-preview.251126.2
- Anthropic: Replaced the unofficial `Anthropic.SDK` nuget package with the official `Microsoft.Agents.AI.Anthropic` nuget package instead.
- [BREAKING] Removed the `UseInterleavedThinking` option from the Anthropic Package, as it actually did not do anything.

---

## Version 1.0.0-preview.251126.1
- Bumped `Microsoft.Agents.AI` version to latest (1.0.0-preview.251125.1)
- Fixed that RawCallDetail would fail if input or output was not JSON (like the output of an Anthropic call)

---

## Version 1.0.0-preview.251123.0
- Added OpenRouter provider NuGet Package
- [OpenAI] Added `OpenAIChatModels` of the most common models
- [Anthropic] Added `AnthropicChatModels` of the most common models
- [XAI] Added `XAIChatModels` of the most common models
- [Mistral] Added `MistralChatModels` of the most common models
- [Google] Added `GoogleChatModels` of the most common models
- [OpenRouter] Added `OpenRouterChatModels` of the most common models

---

## Version 1.0.0-preview.251121.3
- [BREAKING] Moved NetworkTimeout from Request to Connection as it makes more sense (might introduce a per-agent override if needed in the future)
- Added Dependency Injection Methods for all the AgentFactories
- Added Extension Method for AIAgent to have .RunAsync<>(...) for Structured Output

---

## Version 1.0.0-preview.251121.2
- Added Mistral provider NuGet Package
- Gave each package its own Description

---

## Version 1.0.0-preview.251121.1
- Added Samples to README.md
- Moved to central NuGet-props + adopted the same versioning as Microsoft Agent Framework
- Added Simplified Agent Factory Constructors
- Added various simplified CreateAgent (XAI, OpenAI, AzureOpenAI)

---
